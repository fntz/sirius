<!DOCTYPE html>
<html>
  <head>
  <meta charset='UTF-8'>
  <title>Sirius.js Framework</title>
  <script src='../../javascript/application.js'></script>
  <script src='../../javascript/search.js'></script>
  <link rel='stylesheet' href='../../stylesheets/application.css' type='text/css'>
</head>
  <body>
    <div id='base' data-path='../../'></div>
<div id='header'>
  <div id='menu'>
    <a href='../../extra/Readme.md.html' title='Sirius'>
      Sirius
    </a>
    &raquo;
    <a href='../../alphabetical_index.html' title='Index'>
      Index
    </a>
    &raquo;
    <span class='title'>Sirius</span>
    &raquo;
    <span class='title'>BaseModel</span>
  </div>
</div>
    <div id='content'>
      <h1>
        Class:
        Sirius.BaseModel
      </h1>
      <table class='box'>
        <tr>
          <td>Defined in:</td>
          <td>src&#47;base_model.coffee</td>
        </tr>
      </table>
      <h2>Overview</h2>
      <div class='docstring'>
  <div class='note todo'>
    <strong>TODO:</strong>
    Callback support 
  </div>
  <p>A top level class for all models in application.
Supported features: + to json\html convert + create from json\html + validation + generate guid + attributes support + base relation support (<code>has_many</code>, <code>has_one</code>, <code>belongs_to</code>)</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code class='coffeescript'>
class MyModel extends Sirius.BaseModel
  @attrs: [&quot;id&quot;, {title: &quot;default title&quot;}, &quot;description&quot;]
  @to:
    id          : tag: &quot;b&quot;, class: &#39;my-model-id&#39;
    title       : tag: &quot;span&quot;, class: &quot;my-model-title&quot;

class Person extends BaseModel
  @attrs: [&quot;id&quot;, &quot;name&quot;]

  @has_many: [Group]

  @form_name: &quot;person-model&quot;

  @guid_for: id

  @validate:
    id:
      presence: true
      numericality: only_integers: true
    name:
      presence: true
      format: with: &#47;^[A-Z].+&#47;

  @to:
    id          : tag: &quot;b&quot;, class: &#39;person-id&#39;
    name        : tag: &quot;span&quot;, class: &quot;person-name&quot;
    group       : tag: &quot;p&quot;, class: &quot;group&quot;

  to_string: () -&gt;
    &quot;name: #{name}; id: #{id}, group count: #{@get(&#39;group&#39;).length}&quot;

class Group extends BaseModel
  @attrs: [&quot;title&quot;, &quot;person_id&quot;]

  @belongs_to: [{model: &quot;person&quot;, back: &quot;id&quot;}]</code></pre>
  </div>
</div>
<div class='tags'>
</div>
      <h2>Variables Summary</h2>
      <dl class='constants'>
  <dt id='attrs-variable'>
    attrs
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>[]</code></pre>
    
  </dd>
  <dt id='has_many-variable'>
    has_many
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>[]</code></pre>
    
  </dd>
  <dt id='has_one-variable'>
    has_one
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>[]</code></pre>
    
  </dd>
  <dt id='belongs_to-variable'>
    belongs_to
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>[]</code></pre>
    
  </dd>
  <dt id='to-variable'>
    to
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>{}</code></pre>
    
  </dd>
  <dt id='form_name-variable'>
    form_name
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>null</code></pre>
    
  </dd>
  <dt id='guid_for-variable'>
    guid_for
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>null</code></pre>
    
  </dd>
  <dt id='validate-variable'>
    validate
    =
  </dt>
  <dd>
    <pre><code class='coffeescript'>{}</code></pre>
    
  </dd>
</dl>
      <h2>Class Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#from_json-static'>
        .
(T &lt; Sirius.BaseModel)
<b>from_json</b><span>(json, models = {})</span>
      </a>
    </span>
    <span class='desc'>
      Create a new model instance from json structure. 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#from_html-static'>
        .
(T &lt; Sirius.BaseModel)
<b>from_html</b><span>(selector)</span>
      </a>
    </span>
    <span class='desc'>
      Generate a new model instance from form 
    </span>
  </li>
</ul>
      <h2>Instance Method Summary</h2>
      <ul class='summary'>
  <li>
    <span class='signature'>
      <a href='#set-dynamic'>
        #
(Void)
<b>set</b><span>(attr, value)</span>
      </a>
    </span>
    <span class='desc'>
      Base setter 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#get-dynamic'>
        #
(Any)
<b>get</b><span>(attr)</span>
      </a>
    </span>
    <span class='desc'>
      Base getter 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#valid-dynamic'>
        #
(Boolean)
<b>valid</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Check, if model instance valid 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#save-dynamic'>
        #
(Void)
<b>save</b><span>(exception = false)</span>
      </a>
    </span>
    <span class='desc'>
      otherwise return false if not valid 
    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#to_json-dynamic'>
        #
(JSON)
<b>to_json</b><span>(root = false)</span>
      </a>
    </span>
    <span class='desc'>
      Convert model instance in json otherwise as { attrs }

    </span>
  </li>
  <li>
    <span class='signature'>
      <a href='#to_html-dynamic'>
        #
(String)
<b>to_html</b><span>()</span>
      </a>
    </span>
    <span class='desc'>
      Convert model into array of element instances 
    </span>
  </li>
</ul>
      <h2>Class Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='from_json-static'>
      .
(T &lt; Sirius.BaseModel)
<b>from_json</b><span>(json, models = {})</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Create a new model instance from json structure.</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code class='coffeescript'>var json = JSON.stringify({&quot;id&quot;: 10, &quot;description&quot;: &quot;text&quot;});
var m = MyModel.from_json(j);
m.get(&quot;id&quot;) &#47;&#47; =&gt; 10
m.get(&quot;description&quot;) &#47;&#47; =&gt; &quot;text&quot;
m.get(&quot;title&quot;) &#47;&#47; =&gt; &quot;default title&quot;

var json = JSON.stringify({&quot;id&quot;:1,&quot;group&quot;:[{&quot;name&quot;:&quot;group-0&quot;,&quot;person_id&quot;:1},{&quot;name&quot;:&quot;group-1&quot;,&quot;person_id&quot;:1}]})
var person = Person.from_json(json, {group: Group});
person.get(&#39;group&#39;) &#47;&#47; =&gt; [Group, Group]

var person0 = Person.from_json(json)
person.get(&#39;group&#39;) &#47;&#47; =&gt; [{name: &#39;group-0&#39;, ... }, {name: &#39;group-1&#39;, ...}]</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>json</span>
      <span class='type'>
        (
          <tt>JSON</tt>
        )
      </span>
      &mdash;
      <span class='desc'><ul> json object
</ul>
</span>
    </li>
    <li>
      <span class='name'>models</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
      &mdash;
      <span class='desc'><ul> object with model classes, see examples
</ul>
</span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      <tt>T &lt; Sirius.BaseModel</tt>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='from_html-static'>
      .
(T &lt; Sirius.BaseModel)
<b>from_html</b><span>(selector)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Generate a new model instance from form</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code class='coffeescript'>&#47;&#47;html form
&lt;form name=&quot;my_model&quot; id=&quot;my-model-form&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;id&quot; class=&quot;my-id&quot; value=&quot;1&quot; &#47;&gt;
  &lt;input type=&quot;text&quot; name=&quot;title&quot; class=&quot;title&quot; value=&quot;new title&quot; &#47;&gt;
  &lt;textarea name=&quot;description&quot;&gt;text...&lt;&#47;textarea&gt;
&lt;&#47;form&gt;

var m = MyModel.from_html(&quot;#my-model-form&quot;);
m.get(&quot;id&quot;)          &#47;&#47; =&gt; 1
m.get(&quot;title&quot;)       &#47;&#47; =&gt; new title
m.get(&quot;description&quot;) &#47;&#47; =&gt; text...</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>selector</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'><ul> element selector, for find element, where model may be present in html
</ul>
</span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      <tt>T &lt; Sirius.BaseModel</tt>
    </li>
  </ul>
</div>
  </div>
</div>
      <h2>Constructor Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='constructor-dynamic'>
      #
(void)
<b>constructor</b><span>(obj = {})</span>
      <br>
    </p>
    <div class='docstring'>
  <div class='note'>
    <strong>Note:</strong>
    Method generate properties for object from <code>@attrs</code> array. 
  </div>
  <div class='note'>
    <strong>Note:</strong>
    Method generate properties for <code>@has_many</code> and <code>@has_one</code> attributes. 
  </div>
  <div class='note'>
    <strong>Note:</strong>
    Method generate add_x, where <code>x</code> it&#39;s a attribute from <code>@has_many</code> or <code>@has_one</code> 
  </div>
  
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code class='coffeescript'>class MyModel extends Sirius.BaseModel
  @attrs: [&quot;name&quot;]

my_model = new MyModel({name: &quot;Abc&quot;})
my_model.get(&quot;name&quot;) # =&gt; Abc</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>obj</span>
      <span class='type'>
        (
          <tt>Object</tt>
        )
      </span>
      &mdash;
      <span class='desc'><ul> object with keys (define with <code>@attrs</code>) and values for it.
</ul>
</span>
    </li>
  </ul>
</div>
  </div>
</div>
      <h2>Instance Method Details</h2>
      <div class='methods'>
  <div class='method_details'>
    <p class='signature' id='set-dynamic'>
      #
(Void)
<b>set</b><span>(attr, value)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Base setter</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>attr</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'><ul> attribute
</ul>
</span>
    </li>
    <li>
      <span class='name'>value</span>
      <span class='type'>
        (
          <tt>Any</tt>
        )
      </span>
      &mdash;
      <span class='desc'><ul> value
</ul>
</span>
    </li>
  </ul>
  <h3>Throws:</h3>
  <ul class='throw'>
    <li>
      <span class='type'></span>
      (
        <tt>?</tt>
      )
      &mdash;
      <span class='desc'>Error, when attributes not defined for current model </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      <tt>Void</tt>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='get-dynamic'>
      #
(Any)
<b>get</b><span>(attr)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Base getter</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>attr</span>
      <span class='type'>
        (
          <tt>String</tt>
        )
      </span>
      &mdash;
      <span class='desc'><ul> return current <code>value</code> for attribute
</ul>
</span>
    </li>
  </ul>
  <h3>Throws:</h3>
  <ul class='throw'>
    <li>
      <span class='type'></span>
      (
        <tt>?</tt>
      )
      &mdash;
      <span class='desc'>Error, when attributes not defined for current model </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      <tt>Any</tt>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='valid-dynamic'>
      #
(Boolean)
<b>valid</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Check, if model instance valid</p>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      (
        <tt>Boolean</tt>
      )
      &mdash;
      <span class='desc'>true, when is valid, otherwise false </span>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='save-dynamic'>
      #
(Void)
<b>save</b><span>(exception = false)</span>
      <br>
    </p>
    <div class='docstring'>
  <div class='note'>
    <strong>Note:</strong>
    must be redefine in descendants 
  </div>
  <p>otherwise return false if not valid</p>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>exception</span>
      <span class='type'>
        (
          <tt>Boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>throw exception, when true and instance not valid, </span>
    </li>
  </ul>
  <h3>Throws:</h3>
  <ul class='throw'>
    <li>
      <span class='type'></span>
      (
        <tt>?</tt>
      )
      &mdash;
      <span class='desc'>Error, when <code>exception</code> in true </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      <tt>Void</tt>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='to_json-dynamic'>
      #
(JSON)
<b>to_json</b><span>(root = false)</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Convert model instance in json
otherwise as { attrs }</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code class='coffeescript'>var m = new MyModel({&quot;id&quot;: 10, &quot;description&quot;, &quot;text&quot;});
m.to_json() &#47;&#47; =&gt; {&quot;id&quot;:10,&quot;title&quot;:&quot;default title&quot;,&quot;description&quot;:&quot;text&quot;}
m.to_json(true) &#47;&#47; =&gt; {&quot;my_model&quot;:{&quot;id&quot;:10,&quot;title&quot;:&quot;default title&quot;,&quot;description&quot;:&quot;text&quot;}}

person  = new Person({id: 1, name: &quot;Abc&quot;})
group0  = new Group({name: &quot;group-0&quot;})
group1  = new Group({name: &quot;group-1&quot;})

person.add_group(group0)
person.add_group(group1)

person.to_json() &#47;&#47; =&gt;
&#47;&#47; {&quot;id&quot;:1,
&#47;&#47;  &quot;name&quot;:&quot;Abc&quot;,
&#47;&#47;   &quot;group&quot;:[
&#47;&#47;     {&quot;name&quot;:&quot;group-0&quot;,&quot;person_id&quot;:1},
&#47;&#47;     {&quot;name&quot;:&quot;group-1&quot;,&quot;person_id&quot;:1}
&#47;&#47;   ]
&#47;&#47; }</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Parameters:</h3>
  <ul class='param'>
    <li>
      <span class='name'>root</span>
      <span class='type'>
        (
          <tt>Boolean</tt>
        )
      </span>
      &mdash;
      <span class='desc'>when true generated json as { model_name : { attrs } } </span>
    </li>
  </ul>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      <tt>JSON</tt>
    </li>
  </ul>
</div>
  </div>
  <div class='method_details'>
    <p class='signature' id='to_html-dynamic'>
      #
(String)
<b>to_html</b><span>()</span>
      <br>
    </p>
    <div class='docstring'>
  <p>Convert model into array of element instances</p>
  <div class='examples'>
    <h3>Examples:</h3>
    <h4>
      
    </h4>
    <pre><code class='coffeescript'>var m = new MyModel({&quot;id&quot;: 10, &quot;title&quot;: &quot;my title&quot;, &quot;description&quot;: &quot;text...&quot;});
m.to_html() &#47;&#47; =&gt; &quot;&lt;b class = &#39;my-model-id&#39;&gt;10&lt;&#47;b&gt;&lt;span class = &#39;my-model-title&#39;&gt;my title&lt;&#47;span&gt;&lt;div&gt;text...&lt;&#47;div&gt;&quot;

person.to_html() &#47;&#47; =&gt;
&#47;&#47; &quot;&lt;b class=&#39;person-id&#39;&gt;1&lt;&#47;b&gt;
&#47;&#47;  &lt;span class=&#39;person-name&#39;&gt;Abc&lt;&#47;span&gt;
&#47;&#47;    &lt;p class = &#39;group&#39;&gt;
&#47;&#47;      &lt;span&gt;group-0&lt;&#47;span&gt;
&#47;&#47;      &lt;div&gt;1&lt;&#47;div&gt;
&#47;&#47;      &lt;span&gt;group-1&lt;&#47;span&gt;
&#47;&#47;      &lt;div&gt;1&lt;&#47;div&gt;
&#47;&#47;    &lt;&#47;p&gt;</code></pre>
  </div>
</div>
<div class='tags'>
  <h3>Returns:</h3>
  <ul class='return'>
    <li>
      <span class='type'></span>
      <tt>String</tt>
    </li>
  </ul>
</div>
  </div>
</div>
    </div>
    <div id='footer'>
  June 23, 14 14:45:06 by
  <a href='https://github.com/coffeedoc/codo' title='CoffeeScript API documentation generator'>
    Codo
  </a>
  2.0.9
  &#10034;
  Press H to see the keyboard shortcuts
  &#10034;
  <a href='http://twitter.com/netzpirat' target='_parent'>@netzpirat</a>
  &#10034;
  <a href='http://twitter.com/_inossidabile' target='_parent'>@_inossidabile</a>
</div>
<iframe id='search_frame'></iframe>
<div id='fuzzySearch'>
  <input type='text'>
  <ol></ol>
</div>
<div id='help'>
  <p>
    Quickly fuzzy find classes, mixins, methods, file:
  </p>
  <ul>
    <li>
      <span>T</span>
      Open fuzzy finder dialog
    </li>
  </ul>
  <p>
    Control the navigation frame:
  </p>
  <ul>
    <li>
      <span>L</span>
      Toggle list view
    </li>
    <li>
      <span>C</span>
      Show class list
    </li>
    <li>
      <span>I</span>
      Show mixin list
    </li>
    <li>
      <span>F</span>
      Show file list
    </li>
    <li>
      <span>M</span>
      Show method list
    </li>
    <li>
      <span>E</span>
      Show extras list
    </li>
  </ul>
  <p>
    You can focus and blur the search input:
  </p>
  <ul>
    <li>
      <span>S</span>
      Focus search input
    </li>
    <li>
      <span>Esc</span>
      Blur search input
    </li>
  </ul>
</div>
  </body>
</html>